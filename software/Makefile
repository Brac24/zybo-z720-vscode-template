init:
	xsct -eval "setws $(WORKSPACE); \
		platform create -name $(plat_name) -hw $(XSA); \
		domain create -name $(domain_name_apu) -os standalone -proc ps7_cortexa9_0; \
		app create -name $(app_name_apu) -platform $(plat_name) -domain $(domain_name_apu) -sysproj $(sys_name) -template {Hello World}; \
		importsources -name $(app_name_apu) -path $(import_sources); \
		platform active $(plat_name); \
		platform generate; \
		app build $(app_name_apu)"

# rebuild application with current sources
# note that you need the metadata files like .project, .cproject, .prj, etc. generated by Vitis
rebuild:
	xsct -eval "setws $(pwd); app build test-app"